(this["webpackJsonpprofile-list"]=this["webpackJsonpprofile-list"]||[]).push([[0],{15:function(e,t,a){e.exports=a(23)},20:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(9),s=a.n(r),i=(a(20),a(5)),l=a(7),o=a(1),u=c.a.createContext(),m=a(10),d=a(11),f=a(4),p=a(14),g=a(13);function h(e){var t,a,n;switch(e){case v:n="setSearchName";break;case E:n="setSearchTag"}return a=t=function(t){Object(p.a)(r,t);var a=Object(g.a)(r);function r(e){var t;return Object(m.a)(this,r),(t=a.call(this,e)).handleChange=t.handleChange.bind(Object(f.a)(t)),t}return Object(d.a)(r,[{key:"handleChange",value:function(e){this.context[n](e.target.value.toLowerCase())}},{key:"render",value:function(){return c.a.createElement(e,{onChange:this.handleChange})}}]),r}(c.a.Component),t.contextType=u,a}function v(e){return c.a.createElement("div",{className:"input-wrapper"},c.a.createElement("input",{type:"search",id:"name-input",placeholder:"Search by name",className:"input",onChange:e.onChange}))}function E(e){return c.a.createElement("div",{className:"input-wrapper"},c.a.createElement("input",{type:"search",id:"tag-input",placeholder:"Search by tags",className:"input",onChange:e.onChange}))}var b=h(v),j=h(E),O=a(6),N=a.n(O),y=a(12);function w(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),r=a[0],s=a[1],l=Object(n.useState)(""),m=Object(o.a)(l,2),d=m[0],f=m[1],p=Object(n.useContext)(u),g=e.id;Object(n.useEffect)((function(){var e=p.studentTags.filter((function(e){return e.id===g})),t=e.length?e[0].tags:[];s(t)}),[]),Object(n.useEffect)((function(){p.setTags({id:g,tags:r})}),[r]);var h=function(e){var t=r.filter((function(t){return t!==e}));s(t)};return c.a.createElement("div",{className:"tag-wrapper"},c.a.createElement("ul",{className:"tags"},r.map((function(e,t){return c.a.createElement(C,{key:"".concat(g,"-").concat(t+1),content:e,onDelete:h})}))),c.a.createElement("input",{type:"search",id:"add-tag-input",placeholder:"Add a tag",value:d,className:"input add-tag-input",onChange:function(e){f(e.target.value.trim())},onKeyUp:function(e){var t=!r.includes(d);"Enter"===e.key&&d&&t&&(s([].concat(Object(i.a)(r),[d])),f(""))}}))}function C(e){return c.a.createElement("li",{className:"tag"},e.content,c.a.createElement("span",{className:"icon-delete-tag",onClick:function(){return e.onDelete(e.content)}},"\xd7"))}function k(e){var t=Object(n.useState)({icon:"+",displayClass:" d-none"}),a=Object(o.a)(t,2),r=a[0],s=a[1],i=e.grades,l=e.id;return c.a.createElement("div",null,c.a.createElement("div",{className:"expand-btn",onClick:function(){var e="+"===r.icon?{icon:"-",displayClass:""}:{icon:"+",displayClass:" d-none"};s(e)}},r.icon),c.a.createElement("div",null,"Average: ".concat((i.reduce((function(e,t){return+e+ +t}))/i.length).toFixed(3),"%")),c.a.createElement("div",{className:"grades-wrapper".concat(r.displayClass)},c.a.createElement("ul",null,i.map((function(e,t){return c.a.createElement("li",{key:"".concat(l,"-").concat(t)},"Test ".concat(t,": "),c.a.createElement("span",{className:"txt-grade"},e,"%"))}))),c.a.createElement(w,{id:l})))}function S(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),r=a[0],s=a[1],i=Object(n.useContext)(u),l=function(){var e=Object(y.a)(N.a.mark((function e(){var t,a,n,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.hatchways.io/api/assessment/students");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=a.students,c=n.map((function(e){return e.tags=[],e})),s(c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){l()}),[]),Object(n.useEffect)((function(){var t=r;e.studentTags.forEach((function(e){var a=e.id-1;Object.assign(t[a],e)})),s(t)}),[r,e]);var m=i.studentName,d=i.studentTag,f=r.filter((function(e){var t="".concat(e.firstName," ").concat(e.lastName).toLowerCase().includes(m),a=e.tags.join("*-/+-/*--").includes(d);return m?d?t||a:t:a}));return c.a.createElement("ul",{className:"list"}," ",f.length?f.map((function(e){var t=e.id,a=e.pic,n=e.firstName,r=e.lastName,s=e.email,i=e.company,l=e.skill,o=e.grades,u="".concat(n," ").concat(r);return c.a.createElement("li",{key:t,className:"list-item"},c.a.createElement("div",{className:"image-wrapper"},c.a.createElement("img",{src:a,alt:u,title:u,className:"image"})),c.a.createElement("div",{className:"content-wrapper"},c.a.createElement("div",{className:"txt-name"},u),c.a.createElement("div",{className:"txt-content"},c.a.createElement("div",null,"Email: ".concat(s)),c.a.createElement("div",null,"Company: ".concat(i)),c.a.createElement("div",null,"Skill: ".concat(l)),c.a.createElement(k,{grades:o,id:t}))))})):c.a.createElement("li",{className:"list-item-empty"},"No result found"))}a(22);var x=u.Provider;function T(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),u=Object(o.a)(s,2),m=u[0],d=u[1],f=Object(n.useState)([]),p=Object(o.a)(f,2),g=p[0],h=p[1];return c.a.createElement("div",{className:"container"},c.a.createElement(x,{value:{studentName:a,studentTags:g,studentTag:m,setSearchName:function(e){return r(e)},setTags:function(e){var t=g.some((function(t){return t.id===e.id})),a=!e.tags.length?g.filter((function(t){return t.id!==e.id})):t?g.map((function(t){return t.id===e.id?Object(l.a)(Object(l.a)({},t),{},{tags:e.tags}):t})):[].concat(Object(i.a)(g),[e]);h(a)},setSearchTag:function(e){return d(e)}}},c.a.createElement(b,null),c.a.createElement(j,null),c.a.createElement(S,{studentTags:g})))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.adf5e9a7.chunk.js.map